create table CD(
autor varchar not null,
nombre varchar not null,
lugar varchar not null,
precio int not null,
cantidad int not null,
primary key (autor, nombre, lugar)
);

create table Usuarios(
correo varchar not null,
contrasinal varchar not null,
tipotargeta varchar not null,
numerotargeta int not null,
primary key (correo)
);

create table Pedidos(
id int primary key,
correo varchar not null,
importe int not null,
foreign key (correo) references usuarios(correo) on update CASCADE

);

create table CD_Vendidos(
id int not null,
autor varchar not null,
nombre varchar not null,
lugar varchar not null,
foreign key (id) references pedidos(id) on update CASCADE,
foreign key (autor,nombre,lugar) references cd(autor,nombre,lugar) on update cascade,
primary key (id,autor,nombre,lugar)
)

INSERT INTO CD (autor, nombre, lugar, precio, cantidad) VALUES
('The Beatles', 'Abbey Road', 'United Kingdom', 25,10),
('Pink Floyd', 'The Dark Side of the Moon', 'United Kingdom', 30, 15),
('Michael Jackson', 'Thriller', 'United States', 20, 40),
('Queen', 'A Night at the Opera', 'United Kingdom', 28, 5),
('Led Zeppelin', 'Led Zeppelin IV', 'United Kingdom', 25, 4),
('Bob Marley & The Wailers', 'Legend', 'Jamaica', 22, 6),
('Nirvana', 'Nevermind', 'United States', 27, 9),
('AC/DC', 'Back in Black', 'Australia', 30,17);
